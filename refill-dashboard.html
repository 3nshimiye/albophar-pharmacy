<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="description" content="Socius Pharmacy - A partner you can trust for healthcare and wellness. Offering a wide range of pharmaceuticals and wellness products.">
    <meta name="keywords" content="retail pharmacy, online pharmacy, community pharmacy, wellness, medications, pharmaceuticals, vitamins, supplements, Kigali City, Rwanda">   
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Socius Pharmacy</title>
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body>

    <!-- Header with navigation -->
    <header>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                &lt;&gt;
                <li><a href="shop.html">Shop</a></li>
                &lt;&gt;
                <li><a href="refills.html"class="active">Prescription Refill</a></li>
                &lt;&gt;
                <li><a href="services.html">Services</a></li>
                &lt;&gt;
                <li><a href="theknownest.html">The KnowNest</a></li>
                &lt;&gt;
                <li><a href="contact.html">Contact us</a></li>
            </ul>
        </nav>
    </header>

  <!-- Main Content -->
  <main class="form-container">
    <h1>Request a Prescription Refill</h1>
    <p>Please fill in the form below. A member of our team will confirm once your refill is ready.</p>

    <form id="refillForm">
      <label for="patientName">Patient Name:</label>
      <input type="text" name="patientName" id="patientName" required />

      <label for="phoneNumber">Phone Number:</label>
      <input type="tel" name="phoneNumber" id="phoneNumber" required />

      <label for="prescriptionDetails">Prescription Details:</label>
      <textarea name="prescriptionDetails" id="prescriptionDetails" required></textarea>

      <label for="preferredPickupTime">Preferred Pickup Time:</label>
      <input type="text" name="preferredPickupTime" id="preferredPickupTime" placeholder="e.g., Tomorrow at 3PM" required />

      <button type="submit" class="cta-btn">Submit Refill Request</button>
    </form>
  </main>

  <!-- Footer -->
  <footer>
      <div class="footer-content">
          <p>Socius Pharmacy | Phone: +250 7817 34089 | Email: sociuspharmacy@gmail.com</p>
          <p>Business Hours: Mon–Sat 7AM – 10PM | Sun 9AM – 8PM</p>
          <ul>
              <li><a href="about.html">About us</a></li>
              <li><a href="privacy.html">Privacy Policy</a></li>
              <li><a href="terms.html">Terms of Service</a></li>
          </ul>
      </div>
  </footer>

  <!-- Script -->
  <script>
    const form = document.getElementById('refillForm');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());

      try {
        const response = await fetch('http://localhost:5000/api/refills', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        });

        const result = await response.json();
        alert(result.message || "Refill request submitted successfully.");
        form.reset();
      } catch (err) {
        alert("Failed to submit the request. Please try again later.");
        console.error("Submission Error:", err);
      }
    });
  </script>
</body>
</html>
